# Конвейер с пересекающимися очередями

Реализация конвейера из двух очередей A и B, которые пересекаются в заданных точках. В узлах пересечения значения синхронизируются между обеими очередями.

## Что делает

Конвейер принимает простые числа и проталкивает их по очереди. При добавлении нового числа все существующие значения сдвигаются вправо, а число на выходе (если очередь заполнена) возвращается.

Особенность: узлы пересечения общие для обеих очередей. Если протолкнуть число в очередь A, оно появится и в очереди B в точке пересечения, и наоборот.

## Как запустить

```bash
./gradlew build
./gradlew run
```

Тесты:
```bash
./gradlew test
```

## Пример использования

```java
ConveyorConfig config = ConveyorConfig.builder()
    .queueALength(5)
    .queueBLength(5)
    .addIntersection(2, 2)  // пересечение на позиции 2 в обеих очередях
    .build();

Conveyor conveyor = new Conveyor(config);

int output = conveyor.pushA(7);  // проталкиваем простое число в очередь A
int output2 = conveyor.pushB(11); // проталкиваем в очередь B
```

## Ограничения

- Принимаются только простые числа (2, 3, 5, 7, 11, ...)
- При попытке добавить непростое число выбрасывается `NonPrimeNumberException`

## Структура

- `Conveyor` - основной класс конвейера
- `ConveyorConfig` - конфигурация (длины очередей, точки пересечения)
- `ConveyorNode` - узел конвейера
- `IntersectionPoint` - точка пересечения двух очередей

